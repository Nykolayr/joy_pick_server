# Даты и время

## Формат

Все даты и время в API возвращаются в формате **UTC (Coordinated Universal Time)** в стандарте **ISO 8601**.

### Формат дат

```
YYYY-MM-DDTHH:mm:ss.sssZ
```

**Примеры:**
- `2025-12-01T15:54:00.000Z` - 1 декабря 2025 года, 15:54:00 UTC
- `2025-12-01T22:54:00.000Z` - 1 декабря 2025 года, 22:54:00 UTC

## Нормализация дат

Все даты, возвращаемые из БД, должны быть нормализованы через функцию `normalizeDatesInObject()` из `api/utils/datetime.js`:

```javascript
const { normalizeDatesInObject } = require('../utils/datetime');

// При возврате данных
const request = normalizeDatesInObject(requestData);
return success(res, request);
```

## Поля с датами

Следующие поля во всех моделях содержат даты в формате UTC:

- `created_at` - дата создания
- `updated_at` - дата обновления
- `start_date` - дата начала (для заявок)
- `end_date` - дата окончания (для заявок)
- `join_date` - дата присоединения (для заявок)
- `created_time` - дата создания (для пользователей)
- `executed_at` - дата выполнения (для cron действий)
- `scheduled_at` - запланированная дата (для cron действий)

## Настройка БД

База данных настроена на возврат дат в UTC через параметр `timezone: '+00:00'` в конфигурации подключения (`api/config/database.js`).

## Отправка дат на сервер

При отправке дат на сервер используйте тот же формат ISO 8601 в UTC:

```json
{
  "start_date": "2025-12-01T15:54:00.000Z",
  "end_date": "2025-12-01T17:54:00.000Z"
}
```

## Важно для клиента

- Все даты, полученные от сервера, уже в UTC - не нужно дополнительно преобразовывать
- При отправке дат на сервер конвертируйте локальное время в UTC перед отправкой
- Сервер автоматически нормализует все даты в UTC при возврате данных

## См. также

- [API_DOCUMENTATION.md](../../API_DOCUMENTATION.md) - раздел "Формат дат и времени"
- [api/utils/datetime.js](../../api/utils/datetime.js)

